<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>電路維修 - 原始佈線還原</title>
    <style>
        body { background: #0a0a0a; color: #eee; text-align: center; font-family: sans-serif; }
        canvas { background: #ffffff; border: 5px solid #333; margin-top: 20px; }
    </style>
</head>
<body>

    <h2>原始電線佈局測試 (還原 未命名-2.jpg)</h2>
    <canvas id="gameCanvas" width="850" height="850"></canvas>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        function drawOriginalCircuit() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // 1. 繪製左上角電池 (黑色方塊)
            ctx.fillStyle = "#263238";
            ctx.fillRect(50, 20, 180, 80);

            // 設置虛線樣式 (未通電狀態)
            ctx.strokeStyle = "#333";
            ctx.setLineDash([6, 6]);
            ctx.lineWidth = 3;

            // 2. 繪製電池引出的主幹線
            ctx.beginPath();
            ctx.moveTo(230, 60);  // 電池右側
            ctx.lineTo(450, 60);  // 向右
            ctx.lineTo(450, 300); // 向下進入電網
            ctx.stroke();

            // 3. 繪製嵌套的正方形電網 (根據圖片位置手動定義座標)
            const squares = [
                {x: 350, y: 350, w: 100, h: 100}, // 最內層
                {x: 300, y: 300, w: 250, h: 250}, // 中內層
                {x: 200, y: 250, w: 400, h: 400}, // 中外層
                {x: 100, y: 550, w: 650, h: 200}  // 底部大長方形
            ];

            squares.forEach(s => {
                ctx.strokeRect(s.x, s.y, s.w, s.h);
            });

            // 4. 繪製交錯的垂直與水平連通線
            ctx.beginPath();
            // 左側長垂直線
            ctx.moveTo(100, 550); ctx.lineTo(100, 750);
            // 右側連接線
            ctx.moveTo(750, 100); ctx.lineTo(750, 750);
            ctx.moveTo(550, 100); ctx.lineTo(750, 100);
            // 橫向貫穿線
            ctx.moveTo(100, 650); ctx.lineTo(750, 650);
            ctx.stroke();

            // 5. 繪製 6 個綠色電源點 (圓圈)
            ctx.setLineDash([]); // 圓圈用實線
            ctx.strokeStyle = "#4CAF50";
            const targets = [
                {x: 450, y: 400}, // 中心
                {x: 380, y: 350}, // 中心偏左上
                {x: 750, y: 100}, // 右上角
                {x: 650, y: 200}, // 中右
                {x: 600, y: 650}, // 下右
                {x: 100, y: 750}  // 左下角
            ];

            targets.forEach(t => {
                ctx.beginPath();
                ctx.arc(t.x, t.y, 22, 0, Math.PI * 2);
                ctx.stroke();
            });
        }

        drawOriginalCircuit();
    </script>
</body>
</html>
